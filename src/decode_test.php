<?php

/* This file will be use to decode Evony Packets for creating classes.
 * Out put should be in the form of array('cmd' => '', 'data' => array())
 */
require_once( 'amfphp/core/amf/app/Gateway.php');
require_once( AMFPHP_BASE . 'amf/io/AMFSerializer.php');
require_once( AMFPHP_BASE . 'amf/io/AMFDeserializer.php');

$packet = "0a230107636d6409646174610629636f6d6d6f6e2e6d6170496e666f53696d706c650a8103010f636173746c6573057931137061636b6167654964057932056f6b0578320d6d6170537472057831098313010a817301076e70631163616e5472616e731363616e4f6363757079156368616e6765666163650b686f6e6f721172656c6174696f6e0f63616e53656e640b7374617465117a6f6e654e616d65116675726c6f7567680569640f63616e4c6f6f741170726573746967651163616e53636f7574096e616d65030203040004000400020401061346524945534c414e440204862102040003062142617262617269616e277320636974790a090302030400040004000204010634020486220204000306360a090302030400040004000204010634020486240204000306360a090302030400040004000204010634020486250204000306360a090302030400040004000204010634020486260204000306360a0903020304000400040002040106340204862d0204000306360a0903020304000400040002040106340204862e0204000306360a0903020304000400040002040106340204862f0204000306360a090302030400040004000204010634020486330204000306360a090302030400040004000204010634020486340204000306360a09030203040004000400020401063402048c470204000306360a09030203040004000400020401063402048c480204000306360a09030203040004000400020401063402048c4d0204000306360a09030203040004000400020401063402048c4e0204000306360a82330116181a1c1e24202219616c6c69616e63654e616d6526282a2c2e09666c616730321b706c617965724c6f676f55726c11757365724e616d65020203040004000401040202060b4c756b6f73063402048c50020486bd77060944617a6503060b7175657374063b696d616765732f69636f6e2f706c617965722f6661636541352e6a706706420a09030203040004000400020401063402048c520204000306360a09030203040004000400020401063402048c530204000306360a09030203040004000400020401063402048c550204000306360a090302030400040004000204010634020492630204000306360a090302030400040004000204010634020492660204000306360a090302030400040004000204010634020492670204000306360a090302030400040004000204010634020492680204000306360a090302030400040004000204010634020492690204000306360a0903020304000400040002040106340204926b0204000306360a0903020304000400040002040106340204926d0204000306360a090302030400040004000204010634020492700204000306360a090302030400040004000204010634020492720204000306360a090302030400040004000204010634020499030204000306360a090302030400040004000204010634020499040204000306360a090302030400040004000204010634020499070204000306360a0903020304000400040002040106340204990a0204000306360a0903020304000400040002040106340204990f0204000306360a090302030400040004000204010634020499110204000306360a090302030400040004000204010634020499120204000306360a090302030400040004000204010634020499150204000306360a09030203040004000400020401063402049f210204000306360a09030203040004000400020401063402049f230204000306360a09030203040004000400020401063402049f240204000306360a09030203040004000400020401063402049f250204000306360a09030203040004000400020401063402049f260204000306360a09030203040004000400020401063402049f280204000306360a09030203040004000400020401063402049f290204000306360a09030203040004000400020401063402049f2b0204000306360a09030203040004000400020401063402049f2d0204000306360a09030203040004000400020401063402049f2f0204000306360a09030203040004000400020401063402049f310204000306360a09030203040004000400020401063402049f340204000306360a0903020304000400040002040106340204a5410204000306360a0903020304000400040002040106340204a5420204000306360a0903020304000400040002040106340204a5430204000306360a0903020304000400040002040106340204a5440204000306360a0903020304000400040002040106340204a5450204000306360a0d02020304000481ada4850401040202060f534841444f575306340204a547020480c3ddcc0605596f03060943686974063b696d616765732f69636f6e2f706c617965722f6661636541362e6a7067060d537061726b790a0903020304000400040002040106340204a54d0204000306360a0903020304000400040002040106340204a5500204000306360a0903020304000400040002040106340204a5520204000306360a0903020304000400040002040106340204a5530204000306360a0903020304000400040002040106340204ab610204000306360a0903020304000400040002040106340204ab680204000306360a0903020304000400040002040106340204ab690204000306360a0903020304000400040002040106340204ab6c0204000306360a0903020304000400040002040106340204ab6d0204000306360a0903020304000400040002040106340204ab6f0204000306360a0903020304000400040002040106340204ab720204000306360a0903020304000400040002040106340204ab740204000306360a0903020304000400040002040106340204b2010204000306360a0903020304000400040002040106340204b2030204000306360a0903020304000400040002040106340204b20a0204000306360a0903020304000400040002040106340204b20c0204000306360a0903020304000400040002040106340204b20d0204000306360a0903020304000400040002040106340204b20e0204000306360a0903020304000400040002040106340204b2100204000306360a0903020304000400040002040106340204b2110204000306360a0903020304000400040002040106340204b2130204000306360a0903020304000400040002040106340204b2150204000306360a0903020304000400040002040106340204b8210204000306360a0903020304000400040002040106340204b8250204000306360a0903020304000400040002040106340204b8260204000306360a0903020304000400040002040106340204b8280204000306360a0903020304000400040002040106340204b8290204000306360a0903020304000400040002040106340204b82a0204000306360a0903020304000400040002040106340204b82b0204000306360a82230116181a1c1e24202226282a2c2e3a30323c3e02020304000400040104020206340204b82d0204ed39060959756d6d03060331063b696d616765732f69636f6e2f706c617965722f6661636542312e6a7067060d426f6f426f6f0a0903020304000400040002040106340204b82e0204000306360a0903020304000400040002040106340204b82f0204000306360a0903020304000400040002040106340204b8300204000306360a0903020304000400040002040106340204b8310204000306360a0903020304000400040002040106340204b8320204000306360a0903020304000400040002040106340204b8330204000306360a0903020304000400040002040106340204b8340204000306360a0903020304000400040002040106340204be410204000306360a0903020304000400040002040106340204be420204000306360a0903020304000400040002040106340204be430204000306360a0903020304000400040002040106340204be450204000306360a0903020304000400040002040106340204be470204000306360a0903020304000400040002040106340204be490204000306360a0903020304000400040002040106340204be4d0204000306360a0903020304000400040002040106340204be540204000306360a0903020304000400040002040106340204c4610204000306360a0903020304000400040002040106340204c4620204000306360a1102020304000400040104020206340204c46302040006036b030615636173746c654e616d65063b696d616765732f69636f6e2f706c617965722f6661636541382e6a706706096b6b6b6b0a0903020304000400040002040106340204c4640204000306360a0903020304000400040002040106340204c4650204000306360a0903020304000400040002040106340204c4660204000306360a0903020304000400040002040106340204c4670204000306360a0903020304000400040002040106340204c4690204000306360a0903020304000400040002040106340204c46e0204000306360a0903020304000400040002040106340204c46f0204000306360a0903020304000400040002040106340204c4700204000306360a0903020304000400040002040106340204c4730204000306360a0903020304000400040002040106340204c4750204000306360a0903020304000400040002040106340204cb010204000306360a1102020304000400040104020206340204cb0502048d2c0609466c616703060f4e6577486f6d65065e0609416c66610a0903020304000400040002040106340204cb060204000306360a0903020304000400040002040106340204cb070204000306360a0903020304000400040002040106340204cb080204000306360a0903020304000400040002040106340204cb0b0204000306360a0903020304000400040002040106340204cb100204000306360a0903020304000400040002040106340204d1220204000306360a0903020304000400040002040106340204d1230204000306360a1102020304000400040104020206340204d1250204bb1d060953686f7403060f5761727a6f6e65065e060f53686f6f7465720a0903020304000400040002040106340204d1290204000306360a0903020304000400040002040106340204d12a0204000306360a0903020304000400040002040106340204d12b0204000306360a0903020304000400040002040106340204d12c0204000306360a0903020304000400040002040106340204d12d0204000306360a0903020304000400040002040106340204d1310204000306360a0903020304000400040002040106340204d1340204000306360a0903020304000400040002040106340204d1350204000306360a0903020304000400040002040106340204d7440204000306360a0903020304000400040002040106340204d7460204000306360a0903020304000400040002040106340204d74a0204000306360a0903020304000400040002040106340204d74d0204000306360a0903020304000400040002040106340204d74e0204000306360a0903020304000400040002040106340204d74f0204000306360a0903020304000400040002040106340204d7500204000306360a0903020304000400040002040106340204d7520204000306360a0903020304000400040002040106340204d7530204000306360a0903020304000400040002040106340204d7550204000306360a0903020304000400040002040106340204dd610204000306360a0903020304000400040002040106340204dd620204000306360a0903020304000400040002040106340204dd660204000306360a0903020304000400040002040106340204dd670204000306360a0903020304000400040002040106340204dd6d0204000306360a0903020304000400040002040106340204dd6f0204000306360a0903020304000400040002040106340204dd730204000306360a0903020304000400040002040106340204dd740204000306360a0903020304000400040002040106340204dd750204000306360a0903020304000400040002040106340204e4030204000306360a0903020304000400040002040106340204e4050204000306360a0903020304000400040002040106340204e4060204000306360a0903020304000400040002040106340204e4070204000306360a0903020304000400040002040106340204e4080204000306360a0903020304000400040002040106340204e4090204000306360a0903020304000400040002040106340204e40b0204000306360a0903020304000400040002040106340204e40f0204000306360a0903020304000400040002040106340204e4120204000306360a0903020304000400040002040106340204e4130204000306360a0903020304000400040002040106340204ea220204000306360a0d02020304000489851a0401040202060732303306340204ea23020491a84f0607323032030613477265656e4265616e065e0615426c75655261626269740a0903020304000400040002040106340204ea260204000306360a0903020304000400040002040106340204ea290204000306360a0903020304000400040002040106340204ea2b0204000306360a0903020304000400040002040106340204ea2c0204000306360a0903020304000400040002040106340204ea2e0204000306360a0903020304000400040002040106340204ea300204000306360a0903020304000400040002040106340204ea310204000306360a0903020304000400040002040106340204f0410204000306360a0903020304000400040002040106340204f0420204000306360a0903020304000400040002040106340204f0430204000306360a0903020304000400040002040106340204f0440204000306360a0903020304000400040002040106340204f0480204000306360a0903020304000400040002040106340204f0490204000306360a0903020304000400040002040106340204f04a0204000306360a0903020304000400040002040106340204f04e0204000306360a0903020304000400040002040106340204f04f0204000306360a0903020304000400040002040106340204f0500204000306360a0903020304000400040002040106340204f0520204000306360a0903020304000400040002040106340204f0540204000306360a0903020304000400040002040106340204f0550204000306360a0903020304000400040002040106340204f6620204000306360a0903020304000400040002040106340204f6670204000306360a0903020304000400040002040106340204f66a0204000306360a0903020304000400040002040106340204f66b0204000306360a0903020304000400040002040106340204f66c0204000306360a0903020304000400040002040106340204f6740204000306360a0903020304000400040002040106340204fd010204000306360a0903020304000400040002040106340204fd030204000306360a0903020304000400040002040106340204fd090204000306360a09030203040004000400020401063402048183210204000306360a09030203040004000400020401063402048183220204000306360a09030203040004000400020401063402048183240204000306360a09030203040004000400020401063402048183290204000306360a090302030400040004000204010634020481832a0204000306360a090302030400040004000204010634020481832b0204000306360a090302030400040004000204010634020481832d0204000306360a090302030400040004000204010634020481832f0204000306360a09030203040004000400020401063402048183300204000306360a09030203040004000400020401063402048183310204000306360a0d02020304000400040104020206075a4f4f06340204818332020488ef1b06094b4953530306114c61735665676173063b696d616765732f69636f6e2f706c617965722f6661636542322e6a7067060d4c6f6f6c6c790a09030203040004000400020401063402048183330204000306360401050000000000000000041504010415068d656335636131366335633563353137363531373431346135386335633563353661313132386335633533363437343131383361333732366335633534333332343436316331633535366261343863356335363363383535313763353539313763356335633563383538633535616335363931396335333563613334313336383632366163316335363133376335343936356361353131393431343163353461633563353637313363356335336163356335633563613633633563353433633532376335343263353133633531333332633535366335633563356335633536316239353435613236313931376335333432346335353163356335363836366335333732373137343734373531633563353536313363356335313363353536323963353431633533316335353963353431343932383337323735396335353463356335633535396335633536326335313463356335353833373337633563353633633563356335633531336232633663356335633563356335633532386335633563353236633131396335323163353338313735396335333733343234353732363661633532326335633562316335633563356335313363353233333836333433633563356335343635376335343963356335326135393337623263356335633536333461633531333637343933386335323732373131363632383536633563353561623533363437353363356335633563356335313933333338633533323134633563353137326131396335343763353337343931396335353733386335633563356335353863356335343163326335633532393433353963356335343634333237343435366335313363383534316135316335633463353539336163343633633563386335633563353561633536363337313363353336313363356334323336323633633562353239353863353433366163353133633563353535633536326331633132613134343734366335636163326331363735373134633363356335363631333534633563356335313463353337633563353531633532313238313633386335363633396335633563353133343533313133363536373538633536326335363463353461343634363439353463353233323335363233313435353533313131613537316131396335633533376335333536333233333863356335633536376335323163366335633862396335343332310401";

$Data = pack("H*",str_replace(" ", "", $packet));

$amf = new AMFObject($Data);
$deserializer = new AMFDeserializer($amf->rawData);

var_dump((object)$deserializer->readAmf3Data());
